import { DateTime } from "luxon";

const getTimefromMS = (time) => {
  return DateTime.fromMillis(time * 1000).toLocaleString(DateTime.TIME_SIMPLE);
};

const getDateFromMs = (time) => {
  return DateTime.fromMillis(time * 1000).toLocaleString(DateTime.DATE_SHORT);
};
export const getDayName = (time) => {
  return DateTime.fromMillis(time * 1000).toFormat("cccc");
};
let hourly = [
  {
    dt: 1645477200,
    temp: 22.12,
    feels_like: 22.45,
    pressure: 1008,
    humidity: 79,
    dew_point: 18.31,
    uvi: 0,
    clouds: 32,
    visibility: 10000,
    wind_speed: 7.47,
    wind_deg: 246,
    wind_gust: 11.97,
    weather: [
      {
        id: 802,
        main: "Clouds",
        description: "scattered clouds",
        icon: "03n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645480800,
    temp: 22.09,
    feels_like: 22.39,
    pressure: 1008,
    humidity: 78,
    dew_point: 18.08,
    uvi: 0,
    clouds: 40,
    visibility: 10000,
    wind_speed: 7.69,
    wind_deg: 251,
    wind_gust: 12.66,
    weather: [
      {
        id: 802,
        main: "Clouds",
        description: "scattered clouds",
        icon: "03n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645484400,
    temp: 22.12,
    feels_like: 22.45,
    pressure: 1008,
    humidity: 79,
    dew_point: 18.31,
    uvi: 0,
    clouds: 32,
    visibility: 10000,
    wind_speed: 6.81,
    wind_deg: 257,
    wind_gust: 11.4,
    weather: [
      {
        id: 802,
        main: "Clouds",
        description: "scattered clouds",
        icon: "03n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645488000,
    temp: 22.1,
    feels_like: 22.45,
    pressure: 1008,
    humidity: 80,
    dew_point: 18.49,
    uvi: 0,
    clouds: 24,
    visibility: 10000,
    wind_speed: 6.1,
    wind_deg: 253,
    wind_gust: 10.47,
    weather: [
      {
        id: 801,
        main: "Clouds",
        description: "few clouds",
        icon: "02n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645491600,
    temp: 22.1,
    feels_like: 22.51,
    pressure: 1008,
    humidity: 82,
    dew_point: 18.88,
    uvi: 0,
    clouds: 16,
    visibility: 10000,
    wind_speed: 5.7,
    wind_deg: 262,
    wind_gust: 9.88,
    weather: [
      {
        id: 801,
        main: "Clouds",
        description: "few clouds",
        icon: "02n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645495200,
    temp: 22.2,
    feels_like: 22.62,
    pressure: 1009,
    humidity: 82,
    dew_point: 18.98,
    uvi: 0,
    clouds: 8,
    visibility: 10000,
    wind_speed: 6.27,
    wind_deg: 271,
    wind_gust: 11.2,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645498800,
    temp: 22.92,
    feels_like: 23.33,
    pressure: 1010,
    humidity: 79,
    dew_point: 19.06,
    uvi: 0.52,
    clouds: 0,
    visibility: 10000,
    wind_speed: 7.27,
    wind_deg: 268,
    wind_gust: 13.04,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645502400,
    temp: 23.95,
    feels_like: 24.25,
    pressure: 1011,
    humidity: 71,
    dew_point: 18.36,
    uvi: 1.79,
    clouds: 0,
    visibility: 10000,
    wind_speed: 8.98,
    wind_deg: 264,
    wind_gust: 13.58,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645506000,
    temp: 24.77,
    feels_like: 25.03,
    pressure: 1011,
    humidity: 66,
    dew_point: 17.71,
    uvi: 3.74,
    clouds: 0,
    visibility: 10000,
    wind_speed: 10.01,
    wind_deg: 263,
    wind_gust: 13.34,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645509600,
    temp: 25.25,
    feels_like: 25.48,
    pressure: 1011,
    humidity: 63,
    dew_point: 17.33,
    uvi: 5.75,
    clouds: 0,
    visibility: 10000,
    wind_speed: 10.66,
    wind_deg: 265,
    wind_gust: 13.13,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645513200,
    temp: 25.5,
    feels_like: 25.72,
    pressure: 1011,
    humidity: 62,
    dew_point: 17.25,
    uvi: 7.09,
    clouds: 0,
    visibility: 10000,
    wind_speed: 10.44,
    wind_deg: 268,
    wind_gust: 12.07,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645516800,
    temp: 25.65,
    feels_like: 25.86,
    pressure: 1010,
    humidity: 61,
    dew_point: 17.19,
    uvi: 7.13,
    clouds: 0,
    visibility: 10000,
    wind_speed: 9.56,
    wind_deg: 268,
    wind_gust: 10.53,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645520400,
    temp: 25.67,
    feels_like: 25.86,
    pressure: 1009,
    humidity: 60,
    dew_point: 17,
    uvi: 5.91,
    clouds: 0,
    visibility: 10000,
    wind_speed: 9.01,
    wind_deg: 269,
    wind_gust: 9.65,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645524000,
    temp: 25.66,
    feels_like: 25.82,
    pressure: 1008,
    humidity: 59,
    dew_point: 16.49,
    uvi: 3.89,
    clouds: 0,
    visibility: 10000,
    wind_speed: 8.31,
    wind_deg: 268,
    wind_gust: 8.94,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645527600,
    temp: 25.48,
    feels_like: 25.6,
    pressure: 1008,
    humidity: 58,
    dew_point: 16.02,
    uvi: 1.91,
    clouds: 0,
    visibility: 10000,
    wind_speed: 7.63,
    wind_deg: 261,
    wind_gust: 8.35,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645531200,
    temp: 24.99,
    feels_like: 25.09,
    pressure: 1008,
    humidity: 59,
    dew_point: 15.93,
    uvi: 0.58,
    clouds: 0,
    visibility: 10000,
    wind_speed: 7.25,
    wind_deg: 251,
    wind_gust: 7.77,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645534800,
    temp: 24.2,
    feels_like: 24.35,
    pressure: 1009,
    humidity: 64,
    dew_point: 16.54,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 7.11,
    wind_deg: 245,
    wind_gust: 8.01,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645538400,
    temp: 23.39,
    feels_like: 23.61,
    pressure: 1009,
    humidity: 70,
    dew_point: 17.55,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 6.96,
    wind_deg: 245,
    wind_gust: 8.93,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645542000,
    temp: 23.08,
    feels_like: 23.38,
    pressure: 1010,
    humidity: 74,
    dew_point: 18.03,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 6.85,
    wind_deg: 243,
    wind_gust: 9.2,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645545600,
    temp: 22.85,
    feels_like: 23.18,
    pressure: 1011,
    humidity: 76,
    dew_point: 18.32,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 6.48,
    wind_deg: 249,
    wind_gust: 8.96,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645549200,
    temp: 22.68,
    feels_like: 23.04,
    pressure: 1012,
    humidity: 78,
    dew_point: 18.54,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 6.09,
    wind_deg: 265,
    wind_gust: 8.6,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645552800,
    temp: 22.49,
    feels_like: 22.86,
    pressure: 1012,
    humidity: 79,
    dew_point: 18.67,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 5.48,
    wind_deg: 267,
    wind_gust: 8.04,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645556400,
    temp: 22.28,
    feels_like: 22.65,
    pressure: 1012,
    humidity: 80,
    dew_point: 18.68,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.99,
    wind_deg: 273,
    wind_gust: 7.19,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645560000,
    temp: 22.14,
    feels_like: 22.52,
    pressure: 1012,
    humidity: 81,
    dew_point: 18.62,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.58,
    wind_deg: 272,
    wind_gust: 6.24,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645563600,
    temp: 22.01,
    feels_like: 22.38,
    pressure: 1011,
    humidity: 81,
    dew_point: 18.56,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.45,
    wind_deg: 271,
    wind_gust: 6.22,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645567200,
    temp: 21.89,
    feels_like: 22.25,
    pressure: 1011,
    humidity: 81,
    dew_point: 18.47,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.78,
    wind_deg: 270,
    wind_gust: 6.63,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645570800,
    temp: 21.73,
    feels_like: 22.1,
    pressure: 1011,
    humidity: 82,
    dew_point: 18.46,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.78,
    wind_deg: 273,
    wind_gust: 6.16,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645574400,
    temp: 21.58,
    feels_like: 21.96,
    pressure: 1011,
    humidity: 83,
    dew_point: 18.4,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.48,
    wind_deg: 283,
    wind_gust: 5.13,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645578000,
    temp: 21.45,
    feels_like: 21.79,
    pressure: 1011,
    humidity: 82,
    dew_point: 18.22,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.23,
    wind_deg: 288,
    wind_gust: 4.85,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645581600,
    temp: 21.31,
    feels_like: 21.64,
    pressure: 1012,
    humidity: 82,
    dew_point: 18.04,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 3.67,
    wind_deg: 302,
    wind_gust: 4.34,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645585200,
    temp: 21.74,
    feels_like: 22.03,
    pressure: 1013,
    humidity: 79,
    dew_point: 17.8,
    uvi: 0.53,
    clouds: 0,
    visibility: 10000,
    wind_speed: 2.75,
    wind_deg: 320,
    wind_gust: 3.4,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645588800,
    temp: 22.8,
    feels_like: 22.94,
    pressure: 1014,
    humidity: 69,
    dew_point: 16.72,
    uvi: 1.85,
    clouds: 0,
    visibility: 10000,
    wind_speed: 1.97,
    wind_deg: 344,
    wind_gust: 2.73,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645592400,
    temp: 24.23,
    feels_like: 24.14,
    pressure: 1014,
    humidity: 55,
    dew_point: 14.35,
    uvi: 3.85,
    clouds: 0,
    visibility: 10000,
    wind_speed: 2.27,
    wind_deg: 25,
    wind_gust: 2.86,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645596000,
    temp: 25.43,
    feels_like: 25.23,
    pressure: 1014,
    humidity: 46,
    dew_point: 12.01,
    uvi: 5.92,
    clouds: 0,
    visibility: 10000,
    wind_speed: 2.43,
    wind_deg: 61,
    wind_gust: 2.95,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645599600,
    temp: 26.35,
    feels_like: 26.35,
    pressure: 1014,
    humidity: 41,
    dew_point: 10.48,
    uvi: 7.28,
    clouds: 0,
    visibility: 10000,
    wind_speed: 1.65,
    wind_deg: 76,
    wind_gust: 2.4,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645603200,
    temp: 27.05,
    feels_like: 26.75,
    pressure: 1013,
    humidity: 37,
    dew_point: 8.92,
    uvi: 7.32,
    clouds: 0,
    visibility: 10000,
    wind_speed: 1.06,
    wind_deg: 119,
    wind_gust: 1.87,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645606800,
    temp: 27.44,
    feels_like: 26.84,
    pressure: 1012,
    humidity: 33,
    dew_point: 7.65,
    uvi: 6.06,
    clouds: 0,
    visibility: 10000,
    wind_speed: 1.27,
    wind_deg: 178,
    wind_gust: 1.62,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645610400,
    temp: 27.61,
    feels_like: 27,
    pressure: 1012,
    humidity: 34,
    dew_point: 7.61,
    uvi: 3.99,
    clouds: 0,
    visibility: 10000,
    wind_speed: 2.13,
    wind_deg: 203,
    wind_gust: 1.59,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645614000,
    temp: 27.33,
    feels_like: 26.9,
    pressure: 1012,
    humidity: 36,
    dew_point: 8.25,
    uvi: 1.96,
    clouds: 0,
    visibility: 10000,
    wind_speed: 3.24,
    wind_deg: 236,
    wind_gust: 2.89,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645617600,
    temp: 26.81,
    feels_like: 26.63,
    pressure: 1012,
    humidity: 38,
    dew_point: 9.12,
    uvi: 0.6,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.09,
    wind_deg: 247,
    wind_gust: 3.93,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645621200,
    temp: 26.05,
    feels_like: 26.05,
    pressure: 1012,
    humidity: 41,
    dew_point: 10.25,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 4.58,
    wind_deg: 257,
    wind_gust: 4.71,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01d",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645624800,
    temp: 25.07,
    feels_like: 24.78,
    pressure: 1013,
    humidity: 44,
    dew_point: 10.89,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 3.96,
    wind_deg: 265,
    wind_gust: 4.54,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645628400,
    temp: 24.66,
    feels_like: 24.33,
    pressure: 1014,
    humidity: 44,
    dew_point: 10.9,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 3.06,
    wind_deg: 278,
    wind_gust: 3.26,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645632000,
    temp: 24.4,
    feels_like: 23.99,
    pressure: 1014,
    humidity: 42,
    dew_point: 10.21,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 1.98,
    wind_deg: 301,
    wind_gust: 2.07,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645635600,
    temp: 24.16,
    feels_like: 23.7,
    pressure: 1015,
    humidity: 41,
    dew_point: 9.46,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 1.39,
    wind_deg: 337,
    wind_gust: 1.57,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645639200,
    temp: 23.88,
    feels_like: 23.39,
    pressure: 1015,
    humidity: 41,
    dew_point: 9.15,
    uvi: 0,
    clouds: 0,
    visibility: 10000,
    wind_speed: 0.6,
    wind_deg: 4,
    wind_gust: 0.97,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645642800,
    temp: 23.63,
    feels_like: 23.12,
    pressure: 1014,
    humidity: 41,
    dew_point: 8.79,
    uvi: 0,
    clouds: 2,
    visibility: 10000,
    wind_speed: 0.11,
    wind_deg: 195,
    wind_gust: 0.5,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
  {
    dt: 1645646400,
    temp: 23.59,
    feels_like: 23,
    pressure: 1014,
    humidity: 38,
    dew_point: 7.82,
    uvi: 0,
    clouds: 1,
    visibility: 10000,
    wind_speed: 1.47,
    wind_deg: 293,
    wind_gust: 1.51,
    weather: [
      {
        id: 800,
        main: "Clear",
        description: "clear sky",
        icon: "01n",
      },
    ],
    pop: 0,
  },
];

const weatherWithDates = hourly.map((item) => {
  let updatedDates = {
    ...item,
    dt: getTimefromMS(item.dt),
    date: getDateFromMs(item.dt),
    day: getDayName(item.dt),
  };
  return updatedDates;
});
// console.log(dates);
const numberOfDays = [...new Set(weatherWithDates.map((item) => item.date))];
let updatedWeather = [];

// const day = weatherWithDates.filter((item) => item.date === numberOfDays[0]);
// console.log(day);

for (let i = 0; i < numberOfDays.length; i++) {
  const day = weatherWithDates.filter((item) => item.date === numberOfDays[i]);
  updatedWeather.push(day);
}
console.log(updatedWeather[0]);
